auto mods = ["gubg.std", "gubg.math", "gubg.io", "gubg.algo", "gubg.chaiscript"]

for (mod: mods) { add_dir(mod) }

recipe("gubg", "func", fun[mods](r){
    for (mod: mods) { r.depends_on("${mod}#func") }
})

add_dir("cook")
add_dir("gubg.tools.pm")
add_dir("gubg.tools")

recipe("ut", "exe", fun[mods](r){
    for (mod: mods) { r.depends_on("${mod}#ut") }

    r.depends_on("catch#func")
    r.depends_on("gubg#func")

    r.add_library("stdc++fs")
})
